package org.canzuo.spring.rocketmq.benchmark;import org.canzuo.spring.rocketmq.ProducerApplication;import org.openjdk.jmh.annotations.*;import org.openjdk.jmh.runner.Runner;import org.openjdk.jmh.runner.RunnerException;import org.openjdk.jmh.runner.options.Options;import org.openjdk.jmh.runner.options.OptionsBuilder;import org.springframework.boot.CommandLineRunner;import org.springframework.boot.SpringApplication;import org.springframework.context.ConfigurableApplicationContext;@State(Scope.Thread)public class JMHSpringBootTest {    private ConfigurableApplicationContext context;    private CommandLineRunner runner;    public static void main(String[] args) throws RunnerException {        Options opt = new OptionsBuilder().include(JMHSpringBootTest.class.getSimpleName()).output("/Users/empiregeneral/Desktop/Benchmark.log").warmupIterations(1).forks(10).measurementIterations(10).build();        new Runner(opt).run();    }    @Setup(Level.Trial)    public void init() {        context = SpringApplication.run(ProducerApplication.class);        runner = (CommandLineRunner) context.getBean("stringTopicMsgSend");    }    @Benchmark    public void testTopicSender() throws Exception {       runner.run(new String[]{});    }}